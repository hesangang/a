import{e,z as a,B as s,u as r,p as o,a as l,C as t,r as n,o as p,c as m,f as u,N as c,w as d,h as i}from"./vendor.62413589.js";import{p as g}from"./request.61a9cc87.js";import"./index.e1526510.js";const h={setup(){const o=e(),l=a({phone:"",captcha:"3wc4ak"}),n=a({username:"",userId:"",token:""}),p=s(null);return r().commit("clearTags"),{param:l,rules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]},login:p,submitForm:()=>{p.value.validate((e=>{if(!e)return t.error("验证失败"),!1;g("/agent-user/login",l).then((e=>{t.success(e.msg),n.username=e.data.name,n.userId=e.data.userId,n.token=e.data.token,localStorage.setItem("ms_username",JSON.stringify(n)),o.push("/")}))}))}}}},f=d();o("data-v-9ab4da8c");const b={class:"login-wrap"},v={class:"ms-login"},_=u("div",{class:"ms-title"},"后台管理系统",-1),k={class:"login-btn"},V=i("登录"),I=u("p",{class:"login-tips"},"Tips : 用户名和密码随便填。",-1);l();const w=f(((e,a,s,r,o,l)=>{const t=n("el-button"),d=n("el-input"),i=n("el-form-item"),g=n("el-form");return p(),m("div",b,[u("div",v,[_,u(g,{model:r.param,rules:r.rules,ref:"login","label-width":"0px",class:"ms-content"},{default:f((()=>[u(i,{prop:"phone"},{default:f((()=>[u(d,{modelValue:r.param.phone,"onUpdate:modelValue":a[1]||(a[1]=e=>r.param.phone=e),placeholder:"手机号"},{prepend:f((()=>[u(t,{icon:"el-icon-user"})])),_:1},8,["modelValue"])])),_:1}),u(i,{prop:"captcha"},{default:f((()=>[u(d,{placeholder:"验证码",modelValue:r.param.captcha,"onUpdate:modelValue":a[2]||(a[2]=e=>r.param.captcha=e),onKeyup:a[3]||(a[3]=c((e=>r.submitForm()),["enter"]))},{prepend:f((()=>[u(t,{icon:"el-icon-lock"})])),_:1},8,["modelValue"])])),_:1}),u("div",k,[u(t,{type:"primary",onClick:a[4]||(a[4]=e=>r.submitForm())},{default:f((()=>[V])),_:1})]),I])),_:1},8,["model","rules"])])])}));h.render=w,h.__scopeId="data-v-9ab4da8c";export default h;
