import{e,z as a,B as s,u as r,p as o,a as t,C as l,r as n,o as p,c as m,f as u,N as i,w as d,h as c}from"./vendor.62413589.js";import{p as g}from"./request.39184e29.js";import"./index.e1526510.js";const h={setup(){const o=e(),t=a({phone:"",captcha:"3wc4ak"}),n=a({username:"",userId:"",token:""}),p=s(null);return r().commit("clearTags"),{param:t,rules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]},login:p,submitForm:()=>{p.value.validate((e=>{if(!e)return l.error("验证失败"),!1;g("/agent-user/login",t).then((e=>{l.success(e.msg),n.username=e.data.name,n.userId=e.data.userId,n.token=e.data.token,localStorage.setItem("ms_username",JSON.stringify(n)),o.push("/")}))}))}}}},f=d();o("data-v-48428e16");const b={class:"login-wrap"},v={class:"ms-login"},_=u("div",{class:"ms-title"},"后台管理系统",-1),k={class:"login-btn"},V=c("登录"),y=u("p",{class:"login-tips"},"Tips : 用户名和密码随便填。",-1);t();const I=f(((e,a,s,r,o,t)=>{const l=n("el-button"),d=n("el-input"),c=n("el-form-item"),g=n("el-form");return p(),m("div",b,[u("div",v,[_,u(g,{model:r.param,rules:r.rules,ref:"login","label-width":"0px",class:"ms-content"},{default:f((()=>[u(c,{prop:"phone"},{default:f((()=>[u(d,{modelValue:r.param.phone,"onUpdate:modelValue":a[1]||(a[1]=e=>r.param.phone=e),placeholder:"手机号",onKeyup:a[2]||(a[2]=i((e=>r.submitForm()),["enter"]))},{prepend:f((()=>[u(l,{icon:"el-icon-user"})])),_:1},8,["modelValue"])])),_:1}),u(c,{prop:"captcha"},{default:f((()=>[u(d,{placeholder:"验证码",modelValue:r.param.captcha,"onUpdate:modelValue":a[3]||(a[3]=e=>r.param.captcha=e),onKeyup:a[4]||(a[4]=i((e=>r.submitForm()),["enter"]))},{prepend:f((()=>[u(l,{icon:"el-icon-lock"})])),_:1},8,["modelValue"])])),_:1}),u("div",k,[u(l,{type:"primary",onClick:a[5]||(a[5]=e=>r.submitForm())},{default:f((()=>[V])),_:1})]),y])),_:1},8,["model","rules"])])])}));h.render=I,h.__scopeId="data-v-48428e16";export default h;
